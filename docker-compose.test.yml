services:
  test-api:
    image: test-tasks-api
    build:
      context: .
      target: test
    command: pytest
    environment:
      SQLITE_FILENAME: "test.db"
    volumes:
      - "./.flake8:/app/.flake8"
      - "./src:/app/src"
      - "./tests:/app/tests"
      - "./data:/app/data"
